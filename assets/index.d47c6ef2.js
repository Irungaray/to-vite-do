import{l as p,j as b,a as $,F as D,D as x,b as h,P as f,W as O,S as L}from"./vendor.f4330407.js";const A=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function c(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=c(o);fetch(o.href,s)}};A();const M=(e,t)=>{const c=localStorage.getItem(e);let l=JSON.stringify(t),o;c?o=JSON.parse(c):(localStorage.setItem(e,l),o=l);const[s,a]=p(o);return[s,m=>{let v=JSON.stringify(m);localStorage.setItem(e,v),a(m)}]},n=b,g=$,S=D,u=x(),P=e=>{const[t,c]=M("TODOS_V1","[]"),[l,o]=p(""),[s,a]=p(!1),i=t.filter(r=>!!r.completed).length,m=t.length,v=t.filter(r=>r.text.toLowerCase().includes(l.toLowerCase()));let I=t;l.length>=1&&(I=v);const T={completed:i,total:m,searchValue:l,setSearchValue:o,searchedTodos:I,toggleComplete:r=>{let d=[...t],C=t.findIndex(y=>y.id===r);d[C].completed=!d[C].completed,c(d)},handleDelete:r=>{c(t.filter(d=>d.id!=r))},openModal:s,setOpenModal:a,handleAdd:r=>{let d=[...t];d.push({id:t.length+1,completed:!1,text:r}),c(d)}};return n(u.Provider,{value:T,children:e.children})};const j=e=>{const{completed:t,total:c}=h(u);return n("h1",{className:"Title",children:c>=1?`Completed ${t} out of ${c}`:"No ToDos on sight :D"})};const k=()=>{const{searchValue:e,setSearchValue:t}=h(u);return n("input",{onInput:l=>{t(l.target.value)},value:e,className:"Search",placeholder:"Search..."})};const F=()=>{const{setOpenModal:e}=h(u);return n("button",{className:"Button",onClick:c=>{e(l=>!l)},children:"+"})};const N=e=>g("li",{className:"Item",children:[n("span",{className:`Icon Icon-check ${e.completed&&"Icon-check--active"}`,onClick:e.handleComplete,children:"\u221A"}),n("p",{className:`Item-p ${e.completed&&"Item-p--complete"}`,children:e.text}),n("span",{className:"Icon Icon-delete",onClick:e.handleDelete,children:"X"})]});N.propTypes={handleComplete:f.func.isRequired,handleDelete:f.func.isRequired,completed:f.bool.isRequired,text:f.string.isRequired};const V=()=>{const{searchedTodos:e,toggleComplete:t,handleDelete:c}=h(u);return n("section",{children:n("ul",{children:e.map(l=>n(N,{text:l.text,completed:l.completed,handleComplete:o=>t(l.id),handleDelete:o=>c(l.id)},l.id))})})},q=({component:e})=>{const t=document.getElementById("modals");return console.log(e),O(n(S,{children:e}),t)};const w=()=>{const[e,t]=p(""),{handleAdd:c,setOpenModal:l}=h(u),o=i=>{t(i.target.value)},s=i=>{l(m=>!m)};return g("form",{className:"Form",onSubmit:i=>{i.preventDefault(),c(e),s()},children:[n("label",{children:"Add new To Do"}),n("textarea",{placeholder:"Add ToDo...",value:e,onInput:o}),g("div",{className:"buttonContainer",children:[n("button",{type:"button",className:"cancel",onClick:s,children:"Cancel"}),n("button",{type:"submit",className:"add",children:"Add"})]})]})};const B=()=>{const{openModal:e}=h(u);return g(S,{children:[n(j,{}),n(k,{}),n(V,{}),n(F,{}),!!e&&n(q,{component:n(w,{})})]})},R=e=>n(P,{children:n(B,{})});L(n(R,{}),document.getElementById("app"));
